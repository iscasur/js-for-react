<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Styled Components</title>
  </head>
  <body>
    <div id="container"></div>
    <script>
      function component(strings, ...dinamycValues) {
        return function (props) {
          let newContent = strings.slice();
          console.log(newContent);
          dinamycValues.forEach((value, index) => {
            newContent[index] += props[value];
          });
          return newContent.join("");
        };
      }

      // const styled = {
      //   h1: function (styles) {
      //     return function (content) {
      //       return `
      //       <h1 style="${styles}">
      //         ${content}
      //       </h1>
      //       `;
      //     };
      //   },
      //   h2: "",
      //   div: "",
      // };

      const tags = ["h1", "h2", "h3", "p", "div", "section"];

      function createdStyledApi(tags) {
        const styled = {};

        // Recorremos el array, por cada etiqueta vamos a generar una propiedad en la variable styled
        tags.forEach((tag) => {
          styled[tag] = function (styles) {
            return (content) => `<${tag} style="${styles}">${content}</${tag}>`;
          };
        });

        // Devolvemos styled
        return styled;
      }

      const styled = createdStyledApi(tags);

      const TitleStyled = styled.h1`
        font-family: system-ui;
        color: orange;
        font-size: 50px;
        text-shadow: 2px 2px 0 black;
        line-height: 100vh;
      `;

      const props = {
        message: "No te rindas",
      };

      const Title = component`<marquee> ${"message"} </marquee>`(props);

      function render(component, container) {
        container.innerHTML = component;
      }

      render(TitleStyled(Title), window.container);
    </script>
  </body>
</html>
